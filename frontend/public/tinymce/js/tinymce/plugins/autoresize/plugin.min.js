/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.0 (TBD)
 */
!function(){"use strict";var g=Object.hasOwnProperty,e=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),l=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")},c=function(e,t,n,i,o){r.setEditorTimeout(e,function(){d(e,t),n--?c(e,t,n,i,o):o&&o()},i)},m=function(e,t){e=e.getBody();e&&(e.style.overflowY=t?"":"hidden",t||(e.scrollTop=0))},f=function(e,t,n,i){i=parseInt(e.getStyle(t,n,i),10);return isNaN(i)?0:i},d=function(e,t){var n,i,o,r,s=e.dom,a=e.getDoc();a&&((i=e).plugins.fullscreen&&i.plugins.fullscreen.isFullscreen()?m(e,!0):(n=a.documentElement,o=e.getParam("autoresize_bottom_margin",50,"number"),r=l(e),i=f(s,n,"margin-top",!0),a=f(s,n,"margin-bottom",!0),(a=(a=n.offsetHeight+i+a+o)<0?0:a)+(o=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight)>l(e)&&(r=a+o),(o=e.getParam("max_height",0,"number"))&&o<r?(r=o,m(e,!0)):m(e,!1),r!==t.get()&&(o=r-t.get(),s.setStyle(e.getContainer(),"height",r+"px"),t.set(r),e.fire("ResizeEditor"),u.browser.isSafari()&&u.mac&&(r=e.getWin()).scrollTo(r.pageXOffset,r.pageYOffset),e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode()),u.webkit&&o<0&&d(e,t))))};e.add("autoresize",function(e){var t,n,i,o,r,s,a;t=e.settings,n="resize",g.call(t,n)||(e.settings.resize=!1),e.inline||(a=0,s=n={get:function(){return a},set:function(e){a=e}},(r=e).addCommand("mceAutoResize",function(){d(r,s)}),o=n,(i=e).on("init",function(){var e=i.getParam("autoresize_overflow_padding",1,"number"),t=i.dom;t.setStyles(i.getDoc().documentElement,{height:"auto"}),t.setStyles(i.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})}),i.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(){d(i,o)}),i.getParam("autoresize_on_init",!0,"boolean")&&i.on("init",function(){c(i,o,20,100,function(){c(i,o,5,1e3)})}))})}();