/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.9.0 (TBD)
 */
!function(){"use strict";var n,e=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(n,e,t){n.execCommand("UL"===e?"InsertUnorderedList":"InsertOrderedList",!1,!1===t?null:{"list-style-type":t})},l=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(n){return function(){return n}},t=function(n){return n},c=i(!1),s=i(!0),r=function(){return a},a={fold:function(n,e){return n()},isSome:c,isNone:s,getOr:t,getOrThunk:n=function(n){return n()},getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(undefined),or:t,orThunk:n,map:r,each:function(){},bind:r,exists:c,forall:s,filter:function(){return a},toArray:function(){return[]},toString:i("none()")},d=function(t){var n=i(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:s,isNone:c,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return d(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:a},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},f=function(n){return null===n||n===undefined?a:d(n)},o=function(n){return n&&/^(TH|TD)$/.test(n.nodeName)},g=function(e){return function(n){return n&&/^(OL|UL|DL)$/.test(n.nodeName)&&(n=n,e.$.contains(e.getBody(),n))}},m=function(n,e,t){var r=function(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t;return-1}(e.parents,o),e=-1!==r?e.parents.slice(0,r):e.parents,n=l.grep(e,g(n));return 0<n.length&&n[0].nodeName===t},p=function(r,n,e,t,o,i){r.ui.registry.addSplitButton(n,{tooltip:e,icon:"OL"===o?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(n){n(l.map(i,function(n){return{type:"choiceitem",value:"default"===n?"":n,icon:"list-"+("OL"===o?"num":"bull")+"-"+("disc"===n||"decimal"===n?"default":n),text:n.replace(/\-/g," ").replace(/\b\w/g,function(n){return n.toUpperCase()})}}))},onAction:function(){return r.execCommand(t)},onItemAction:function(n,e){u(r,o,e)},select:function(e){var n,t;return(t=(n=r).dom.getParent(n.selection.getNode(),"ol,ul"),t=n.dom.getStyle(t,"listStyleType"),f(t)).map(function(n){return e===n}).getOr(!1)},onSetup:function(e){var n=function(n){e.setActive(m(r,n,o))};return r.on("NodeChange",n),function(){return r.off("NodeChange",n)}}})},y=function(n,e,t,r,o,i){var u,l,c;1<i.length?p(n,e,t,r,o,i):(l=r,c=o,(u=n).ui.registry.addToggleButton(e,{active:!1,tooltip:t,icon:"OL"===c?"ordered-list":"unordered-list",onSetup:function(e){var n=function(n){e.setActive(m(u,n,c))};return u.on("NodeChange",n),function(){return u.off("NodeChange",n)}},onAction:function(){return u.execCommand(l)}}))};e.add("advlist",function(n){var t,e;n.hasPlugin("lists")?(y(e=n,"numlist","Numbered list","InsertOrderedList","OL",function(n){n=n.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return n?n.split(/[ ,]/):[]}(e)),y(e,"bullist","Bullet list","InsertUnorderedList","UL",function(n){n=n.getParam("advlist_bullet_styles","default,circle,square");return n?n.split(/[ ,]/):[]}(e)),(t=n).addCommand("ApplyUnorderedListStyle",function(n,e){u(t,"UL",e["list-style-type"])}),t.addCommand("ApplyOrderedListStyle",function(n,e){u(t,"OL",e["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();